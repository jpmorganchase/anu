import{r as d,R as S}from"./index.DNi1g-pO.js";import{j as I}from"./jsx-runtime.B6N9iRLn.js";import{e as N,S as P}from"./TerminalPanel.CTKEtbXL.js";function h(e,n=[]){let u=[];function R(s,o){const c=d.createContext(o),i=u.length;u=[...u,o];function x(p){const{scope:v,children:r,...t}=p,f=v?.[e][i]||c,l=d.useMemo(()=>t,Object.values(t));return I.jsx(f.Provider,{value:l,children:r})}function M(p,v){const r=v?.[e][i]||c,t=d.useContext(r);if(t)return t;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return x.displayName=s+"Provider",[x,M]}const a=()=>{const s=u.map(o=>d.createContext(o));return function(c){const i=c?.[e]||s;return d.useMemo(()=>({[`__scope${e}`]:{...c,[e]:i}}),[c,i])}};return a.scopeName=e,[R,O(a,...n)]}function O(...e){const n=e[0];if(e.length===1)return n;const u=()=>{const R=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=R.reduce((c,{useScope:i,scopeName:x})=>{const p=i(s)[`__scope${x}`];return{...c,...p}},{});return d.useMemo(()=>({[`__scope${n.scopeName}`]:o}),[o])}};return u.scopeName=n.scopeName,u}function D(e){const n=e+"CollectionProvider",[u,R]=h(n),[a,s]=u(n,{collectionRef:{current:null},itemMap:new Map}),o=r=>{const{scope:t,children:f}=r,l=S.useRef(null),m=S.useRef(new Map).current;return I.jsx(a,{scope:t,itemMap:m,collectionRef:l,children:f})};o.displayName=n;const c=e+"CollectionSlot",i=S.forwardRef((r,t)=>{const{scope:f,children:l}=r,m=s(c,f),C=N(t,m.collectionRef);return I.jsx(P,{ref:C,children:l})});i.displayName=c;const x=e+"CollectionItemSlot",M="data-radix-collection-item",p=S.forwardRef((r,t)=>{const{scope:f,children:l,...m}=r,C=S.useRef(null),E=N(t,C),_=s(x,f);return S.useEffect(()=>(_.itemMap.set(C,{ref:C,...m}),()=>void _.itemMap.delete(C))),I.jsx(P,{[M]:"",ref:E,children:l})});p.displayName=x;function v(r){const t=s(e+"CollectionConsumer",r);return S.useCallback(()=>{const l=t.collectionRef.current;if(!l)return[];const m=Array.from(l.querySelectorAll(`[${M}]`));return Array.from(t.itemMap.values()).sort((_,A)=>m.indexOf(_.ref.current)-m.indexOf(A.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:o,Slot:i,ItemSlot:p},v,R]}var T=d.createContext(void 0);function $(e){const n=d.useContext(T);return e||n||"ltr"}export{D as c,$ as u};
