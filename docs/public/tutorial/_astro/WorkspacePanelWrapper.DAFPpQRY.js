import{j as d}from"./jsx-runtime.B6N9iRLn.js";import{u as X}from"./index.BDWyZ8Gq.js";import{r as p}from"./index.DNi1g-pO.js";import{P as V,f as et,e as ie,h as Ae,u as mo,b as A,a as ho,c as Wt,d as We,i as xo,j as go,F as vo,D as wo,k as Co,R as yo,S as bo,l as Ro,m as So,n as To,g as ne,o as Ut,p as be,q as tt,C as Mo,r as Ao,s as Po,T as Eo,t as _o}from"./TerminalPanel.CTKEtbXL.js";import{r as Fe}from"./_slug_.89f348d8.BpjxAUc2.js";import{c as Kt,u as Vt}from"./index.CyRt5huT.js";import{r as Io}from"./index.DDEQXXIH.js";import{p as No,t as je}from"./webcontainer.C3RPLh_2.js";import{a as jo}from"./theme-store.BkTMmRgV.js";import"./is-preview-message.ZaUdCj-5.js";import"./index.DgoachrA.js";const de={partTemplate:"Part ${index}: ${title}",noPreviewNorStepsText:"No preview to run nor steps to show",startWebContainerText:"Run this tutorial",editPageText:"Edit this page",webcontainerLinkText:"Powered by WebContainers",filesTitleText:"Files",fileTreeCreateFileText:"Create file",fileTreeCreateFolderText:"Create folder",fileTreeActionNotAllowedText:"This action is not allowed",fileTreeFileExistsAlreadyText:"File exists on filesystem already",fileTreeAllowedPatternsText:"Created files and folders must match following patterns:",confirmationText:"OK",prepareEnvironmentTitleText:"Preparing Environment",defaultPreviewTitleText:"Preview",reloadPreviewTitle:"Reload Preview",toggleTerminalButtonText:"Toggle Terminal",solveButtonText:"Solve",resetButtonText:"Reset"},ko=["top","right","bottom","left"],oe=Math.min,G=Math.max,Le=Math.round,ke=Math.floor,q=e=>({x:e,y:e}),Oo={left:"right",right:"left",bottom:"top",top:"bottom"},Fo={start:"end",end:"start"};function nt(e,t,n){return G(e,oe(t,n))}function ee(e,t){return typeof e=="function"?e(t):e}function te(e){return e.split("-")[0]}function he(e){return e.split("-")[1]}function at(e){return e==="x"?"y":"x"}function lt(e){return e==="y"?"height":"width"}function re(e){return["top","bottom"].includes(te(e))?"y":"x"}function ut(e){return at(re(e))}function Do(e,t,n){n===void 0&&(n=!1);const o=he(e),r=ut(e),s=lt(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=$e(i)),[i,$e(i)]}function Lo(e){const t=$e(e);return[ot(e),t,ot(t)]}function ot(e){return e.replace(/start|end/g,t=>Fo[t])}function $o(e,t,n){const o=["left","right"],r=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?s:i;default:return[]}}function Ho(e,t,n,o){const r=he(e);let s=$o(te(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(ot)))),s}function $e(e){return e.replace(/left|right|bottom|top/g,t=>Oo[t])}function Bo(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yt(e){return typeof e!="number"?Bo(e):{top:e,right:e,bottom:e,left:e}}function He(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function Mt(e,t,n){let{reference:o,floating:r}=e;const s=re(t),i=ut(t),c=lt(i),a=te(t),l=s==="y",f=o.x+o.width/2-r.width/2,u=o.y+o.height/2-r.height/2,h=o[c]/2-r[c]/2;let x;switch(a){case"top":x={x:f,y:o.y-r.height};break;case"bottom":x={x:f,y:o.y+o.height};break;case"right":x={x:o.x+o.width,y:u};break;case"left":x={x:o.x-r.width,y:u};break;default:x={x:o.x,y:o.y}}switch(he(t)){case"start":x[i]-=h*(n&&l?-1:1);break;case"end":x[i]+=h*(n&&l?-1:1);break}return x}const Go=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,c=s.filter(Boolean),a=await(i.isRTL==null?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:u}=Mt(l,o,a),h=o,x={},m=0;for(let v=0;v<c.length;v++){const{name:g,fn:w}=c[v],{x:C,y:b,data:S,reset:R}=await w({x:f,y:u,initialPlacement:o,placement:h,strategy:r,middlewareData:x,rects:l,platform:i,elements:{reference:e,floating:t}});f=C??f,u=b??u,x={...x,[g]:{...x[g],...S}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(l=R.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):R.rects),{x:f,y:u}=Mt(l,h,a)),v=-1)}return{x:f,y:u,placement:h,strategy:r,middlewareData:x}};async function Re(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:i,elements:c,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:h=!1,padding:x=0}=ee(t,e),m=Yt(x),g=c[h?u==="floating"?"reference":"floating":u],w=He(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:f,strategy:a})),C=u==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},R=He(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:b,strategy:a}):C);return{top:(w.top-R.top+m.top)/S.y,bottom:(R.bottom-w.bottom+m.bottom)/S.y,left:(w.left-R.left+m.left)/S.x,right:(R.right-w.right+m.right)/S.x}}const zo=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:i,elements:c,middlewareData:a}=t,{element:l,padding:f=0}=ee(e,t)||{};if(l==null)return{};const u=Yt(f),h={x:n,y:o},x=ut(r),m=lt(x),v=await i.getDimensions(l),g=x==="y",w=g?"top":"left",C=g?"bottom":"right",b=g?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[x]-h[x]-s.floating[m],R=h[x]-s.reference[x],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let _=P?P[b]:0;(!_||!await(i.isElement==null?void 0:i.isElement(P)))&&(_=c.floating[b]||s.floating[m]);const M=S/2-R/2,k=_/2-v[m]/2-1,N=oe(u[w],k),O=oe(u[C],k),F=N,j=_-v[m]-O,I=_/2-v[m]/2+M,H=nt(F,I,j),E=!a.arrow&&he(r)!=null&&I!==H&&s.reference[m]/2-(I<F?N:O)-v[m]/2<0,D=E?I<F?I-F:I-j:0;return{[x]:h[x]+D,data:{[x]:H,centerOffset:I-H-D,...E&&{alignmentOffset:D}},reset:E}}}),Wo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:c,platform:a,elements:l}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...g}=ee(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=te(r),C=re(c),b=te(c)===c,S=await(a.isRTL==null?void 0:a.isRTL(l.floating)),R=h||(b||!v?[$e(c)]:Lo(c)),P=m!=="none";!h&&P&&R.push(...Ho(c,v,m,S));const _=[c,...R],M=await Re(t,g),k=[];let N=((o=s.flip)==null?void 0:o.overflows)||[];if(f&&k.push(M[w]),u){const I=Do(r,i,S);k.push(M[I[0]],M[I[1]])}if(N=[...N,{placement:r,overflows:k}],!k.every(I=>I<=0)){var O,F;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,H=_[I];if(H)return{data:{index:I,overflows:N},reset:{placement:H}};let E=(F=N.filter(D=>D.overflows[0]<=0).sort((D,T)=>D.overflows[1]-T.overflows[1])[0])==null?void 0:F.placement;if(!E)switch(x){case"bestFit":{var j;const D=(j=N.filter(T=>{if(P){const y=re(T.placement);return y===C||y==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(y=>y>0).reduce((y,$)=>y+$,0)]).sort((T,y)=>T[1]-y[1])[0])==null?void 0:j[0];D&&(E=D);break}case"initialPlacement":E=c;break}if(r!==E)return{reset:{placement:E}}}return{}}}};function At(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pt(e){return ko.some(t=>e[t]>=0)}const Uo=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...r}=ee(e,t);switch(o){case"referenceHidden":{const s=await Re(t,{...r,elementContext:"reference"}),i=At(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Pt(i)}}}case"escaped":{const s=await Re(t,{...r,altBoundary:!0}),i=At(s,n.floating);return{data:{escapedOffsets:i,escaped:Pt(i)}}}default:return{}}}}};async function Ko(e,t){const{placement:n,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=te(n),c=he(n),a=re(n)==="y",l=["left","top"].includes(i)?-1:1,f=s&&a?-1:1,u=ee(t,e);let{mainAxis:h,crossAxis:x,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return c&&typeof m=="number"&&(x=c==="end"?m*-1:m),a?{x:x*f,y:h*l}:{x:h*l,y:x*f}}const Vo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:i,middlewareData:c}=t,a=await Ko(t,e);return i===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:s+a.y,data:{...a,placement:i}}}}},Yo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:g=>{let{x:w,y:C}=g;return{x:w,y:C}}},...a}=ee(e,t),l={x:n,y:o},f=await Re(t,a),u=re(te(r)),h=at(u);let x=l[h],m=l[u];if(s){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",C=x+f[g],b=x-f[w];x=nt(C,x,b)}if(i){const g=u==="y"?"top":"left",w=u==="y"?"bottom":"right",C=m+f[g],b=m-f[w];m=nt(C,m,b)}const v=c.fn({...t,[h]:x,[u]:m});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[h]:s,[u]:i}}}}}},Xo=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:r,rects:s,middlewareData:i}=t,{offset:c=0,mainAxis:a=!0,crossAxis:l=!0}=ee(e,t),f={x:n,y:o},u=re(r),h=at(u);let x=f[h],m=f[u];const v=ee(c,t),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(a){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+g.mainAxis,R=s.reference[h]+s.reference[b]-g.mainAxis;x<S?x=S:x>R&&(x=R)}if(l){var w,C;const b=h==="y"?"width":"height",S=["top","left"].includes(te(r)),R=s.reference[u]-s.floating[b]+(S&&((w=i.offset)==null?void 0:w[u])||0)+(S?0:g.crossAxis),P=s.reference[u]+s.reference[b]+(S?0:((C=i.offset)==null?void 0:C[u])||0)-(S?g.crossAxis:0);m<R?m=R:m>P&&(m=P)}return{[h]:x,[u]:m}}}},qo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:s,platform:i,elements:c}=t,{apply:a=()=>{},...l}=ee(e,t),f=await Re(t,l),u=te(r),h=he(r),x=re(r)==="y",{width:m,height:v}=s.floating;let g,w;u==="top"||u==="bottom"?(g=u,w=h===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(w=u,g=h==="end"?"top":"bottom");const C=v-f.top-f.bottom,b=m-f.left-f.right,S=oe(v-f[g],C),R=oe(m-f[w],b),P=!t.middlewareData.shift;let _=S,M=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=b),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(_=C),P&&!h){const N=G(f.left,0),O=G(f.right,0),F=G(f.top,0),j=G(f.bottom,0);x?M=m-2*(N!==0||O!==0?N+O:G(f.left,f.right)):_=v-2*(F!==0||j!==0?F+j:G(f.top,f.bottom))}await a({...t,availableWidth:M,availableHeight:_});const k=await i.getDimensions(c.floating);return m!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Ue(){return typeof window<"u"}function xe(e){return Xt(e)?(e.nodeName||"").toLowerCase():"#document"}function z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){var t;return(t=(Xt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Xt(e){return Ue()?e instanceof Node||e instanceof z(e).Node:!1}function U(e){return Ue()?e instanceof Element||e instanceof z(e).Element:!1}function Z(e){return Ue()?e instanceof HTMLElement||e instanceof z(e).HTMLElement:!1}function Et(e){return!Ue()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof z(e).ShadowRoot}function Pe(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=K(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function Zo(e){return["table","td","th"].includes(xe(e))}function Ke(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ft(e){const t=dt(),n=U(e)?K(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Jo(e){let t=se(e);for(;Z(t)&&!me(t);){if(ft(t))return t;if(Ke(t))return null;t=se(t)}return null}function dt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function me(e){return["html","body","#document"].includes(xe(e))}function K(e){return z(e).getComputedStyle(e)}function Ve(e){return U(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function se(e){if(xe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Et(e)&&e.host||J(e);return Et(t)?t.host:t}function qt(e){const t=se(e);return me(t)?e.ownerDocument?e.ownerDocument.body:e.body:Z(t)&&Pe(t)?t:qt(t)}function Se(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=qt(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),i=z(r);if(s){const c=rt(i);return t.concat(i,i.visualViewport||[],Pe(r)?r:[],c&&n?Se(c):[])}return t.concat(r,Se(r,[],n))}function rt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Zt(e){const t=K(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=Z(e),s=r?e.offsetWidth:n,i=r?e.offsetHeight:o,c=Le(n)!==s||Le(o)!==i;return c&&(n=s,o=i),{width:n,height:o,$:c}}function pt(e){return U(e)?e:e.contextElement}function pe(e){const t=pt(e);if(!Z(t))return q(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=Zt(t);let i=(s?Le(n.width):n.width)/o,c=(s?Le(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Qo=q(0);function Jt(e){const t=z(e);return!dt()||!t.visualViewport?Qo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function er(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==z(e)?!1:t}function le(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=pt(e);let i=q(1);t&&(o?U(o)&&(i=pe(o)):i=pe(e));const c=er(s,n,o)?Jt(s):q(0);let a=(r.left+c.x)/i.x,l=(r.top+c.y)/i.y,f=r.width/i.x,u=r.height/i.y;if(s){const h=z(s),x=o&&U(o)?z(o):o;let m=h,v=rt(m);for(;v&&o&&x!==m;){const g=pe(v),w=v.getBoundingClientRect(),C=K(v),b=w.left+(v.clientLeft+parseFloat(C.paddingLeft))*g.x,S=w.top+(v.clientTop+parseFloat(C.paddingTop))*g.y;a*=g.x,l*=g.y,f*=g.x,u*=g.y,a+=b,l+=S,m=z(v),v=rt(m)}}return He({width:f,height:u,x:a,y:l})}function mt(e,t){const n=Ve(e).scrollLeft;return t?t.left+n:le(J(e)).left+n}function Qt(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),r=o.left+t.scrollLeft-(n?0:mt(e,o)),s=o.top+t.scrollTop;return{x:r,y:s}}function tr(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s=r==="fixed",i=J(o),c=t?Ke(t.floating):!1;if(o===i||c&&s)return n;let a={scrollLeft:0,scrollTop:0},l=q(1);const f=q(0),u=Z(o);if((u||!u&&!s)&&((xe(o)!=="body"||Pe(i))&&(a=Ve(o)),Z(o))){const x=le(o);l=pe(o),f.x=x.x+o.clientLeft,f.y=x.y+o.clientTop}const h=i&&!u&&!s?Qt(i,a,!0):q(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+f.x+h.x,y:n.y*l.y-a.scrollTop*l.y+f.y+h.y}}function nr(e){return Array.from(e.getClientRects())}function or(e){const t=J(e),n=Ve(e),o=e.ownerDocument.body,r=G(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=G(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+mt(e);const c=-n.scrollTop;return K(o).direction==="rtl"&&(i+=G(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:c}}function rr(e,t){const n=z(e),o=J(e),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,c=0,a=0;if(r){s=r.width,i=r.height;const l=dt();(!l||l&&t==="fixed")&&(c=r.offsetLeft,a=r.offsetTop)}return{width:s,height:i,x:c,y:a}}function sr(e,t){const n=le(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=Z(e)?pe(e):q(1),i=e.clientWidth*s.x,c=e.clientHeight*s.y,a=r*s.x,l=o*s.y;return{width:i,height:c,x:a,y:l}}function _t(e,t,n){let o;if(t==="viewport")o=rr(e,n);else if(t==="document")o=or(J(e));else if(U(t))o=sr(t,n);else{const r=Jt(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return He(o)}function en(e,t){const n=se(e);return n===t||!U(n)||me(n)?!1:K(n).position==="fixed"||en(n,t)}function ir(e,t){const n=t.get(e);if(n)return n;let o=Se(e,[],!1).filter(c=>U(c)&&xe(c)!=="body"),r=null;const s=K(e).position==="fixed";let i=s?se(e):e;for(;U(i)&&!me(i);){const c=K(i),a=ft(i);!a&&c.position==="fixed"&&(r=null),(s?!a&&!r:!a&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Pe(i)&&!a&&en(e,i))?o=o.filter(f=>f!==i):r=c,i=se(i)}return t.set(e,o),o}function cr(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?Ke(t)?[]:ir(t,this._c):[].concat(n),o],c=i[0],a=i.reduce((l,f)=>{const u=_t(t,f,r);return l.top=G(u.top,l.top),l.right=oe(u.right,l.right),l.bottom=oe(u.bottom,l.bottom),l.left=G(u.left,l.left),l},_t(t,c,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function ar(e){const{width:t,height:n}=Zt(e);return{width:t,height:n}}function lr(e,t,n){const o=Z(t),r=J(t),s=n==="fixed",i=le(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const a=q(0);if(o||!o&&!s)if((xe(t)!=="body"||Pe(r))&&(c=Ve(t)),o){const h=le(t,!0,s,t);a.x=h.x+t.clientLeft,a.y=h.y+t.clientTop}else r&&(a.x=mt(r));const l=r&&!o&&!s?Qt(r,c):q(0),f=i.left+c.scrollLeft-a.x-l.x,u=i.top+c.scrollTop-a.y-l.y;return{x:f,y:u,width:i.width,height:i.height}}function Ze(e){return K(e).position==="static"}function It(e,t){if(!Z(e)||K(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return J(e)===n&&(n=n.ownerDocument.body),n}function tn(e,t){const n=z(e);if(Ke(e))return n;if(!Z(e)){let r=se(e);for(;r&&!me(r);){if(U(r)&&!Ze(r))return r;r=se(r)}return n}let o=It(e,t);for(;o&&Zo(o)&&Ze(o);)o=It(o,t);return o&&me(o)&&Ze(o)&&!ft(o)?n:o||Jo(e)||n}const ur=async function(e){const t=this.getOffsetParent||tn,n=this.getDimensions,o=await n(e.floating);return{reference:lr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function fr(e){return K(e).direction==="rtl"}const dr={convertOffsetParentRelativeRectToViewportRelativeRect:tr,getDocumentElement:J,getClippingRect:cr,getOffsetParent:tn,getElementRects:ur,getClientRects:nr,getDimensions:ar,getScale:pe,isElement:U,isRTL:fr};function pr(e,t){let n=null,o;const r=J(e);function s(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function i(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:l,top:f,width:u,height:h}=e.getBoundingClientRect();if(c||t(),!u||!h)return;const x=ke(f),m=ke(r.clientWidth-(l+u)),v=ke(r.clientHeight-(f+h)),g=ke(l),C={rootMargin:-x+"px "+-m+"px "+-v+"px "+-g+"px",threshold:G(0,oe(1,a))||1};let b=!0;function S(R){const P=R[0].intersectionRatio;if(P!==a){if(!b)return i();P?i(!1,P):o=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,C)}n.observe(e)}return i(!0),s}function mr(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,l=pt(e),f=r||s?[...l?Se(l):[],...Se(t)]:[];f.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const u=l&&c?pr(l,n):null;let h=-1,x=null;i&&(x=new ResizeObserver(w=>{let[C]=w;C&&C.target===l&&x&&(x.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(t)})),n()}),l&&!a&&x.observe(l),x.observe(t));let m,v=a?le(e):null;a&&g();function g(){const w=le(e);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,m=requestAnimationFrame(g)}return n(),()=>{var w;f.forEach(C=>{r&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),u?.(),(w=x)==null||w.disconnect(),x=null,a&&cancelAnimationFrame(m)}}const hr=Vo,xr=Yo,gr=Wo,vr=qo,wr=Uo,Nt=zo,Cr=Xo,yr=(e,t,n)=>{const o=new Map,r={platform:dr,...n},s={...r.platform,_c:o};return Go(e,t,{...r,platform:s})};var De=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Be(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Be(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const s=r[o];if(!(s==="_owner"&&e.$$typeof)&&!Be(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function nn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jt(e,t){const n=nn(e);return Math.round(t*n)/n}function Je(e){const t=p.useRef(e);return De(()=>{t.current=e}),t}function br(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:s,floating:i}={},transform:c=!0,whileElementsMounted:a,open:l}=e,[f,u]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,x]=p.useState(o);Be(h,o)||x(o);const[m,v]=p.useState(null),[g,w]=p.useState(null),C=p.useCallback(T=>{T!==P.current&&(P.current=T,v(T))},[]),b=p.useCallback(T=>{T!==_.current&&(_.current=T,w(T))},[]),S=s||m,R=i||g,P=p.useRef(null),_=p.useRef(null),M=p.useRef(f),k=a!=null,N=Je(a),O=Je(r),F=Je(l),j=p.useCallback(()=>{if(!P.current||!_.current)return;const T={placement:t,strategy:n,middleware:h};O.current&&(T.platform=O.current),yr(P.current,_.current,T).then(y=>{const $={...y,isPositioned:F.current!==!1};I.current&&!Be(M.current,$)&&(M.current=$,Io.flushSync(()=>{u($)}))})},[h,t,n,O,F]);De(()=>{l===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[l]);const I=p.useRef(!1);De(()=>(I.current=!0,()=>{I.current=!1}),[]),De(()=>{if(S&&(P.current=S),R&&(_.current=R),S&&R){if(N.current)return N.current(S,R,j);j()}},[S,R,j,N,k]);const H=p.useMemo(()=>({reference:P,floating:_,setReference:C,setFloating:b}),[C,b]),E=p.useMemo(()=>({reference:S,floating:R}),[S,R]),D=p.useMemo(()=>{const T={position:n,left:0,top:0};if(!E.floating)return T;const y=jt(E.floating,f.x),$=jt(E.floating,f.y);return c?{...T,transform:"translate("+y+"px, "+$+"px)",...nn(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:y,top:$}},[n,c,E.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:j,refs:H,elements:E,floatingStyles:D}),[f,j,H,E,D])}const Rr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:r}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?Nt({element:o.current,padding:r}).fn(n):{}:o?Nt({element:o,padding:r}).fn(n):{}}}},Sr=(e,t)=>({...hr(e),options:[e,t]}),Tr=(e,t)=>({...xr(e),options:[e,t]}),Mr=(e,t)=>({...Cr(e),options:[e,t]}),Ar=(e,t)=>({...gr(e),options:[e,t]}),Pr=(e,t)=>({...vr(e),options:[e,t]}),Er=(e,t)=>({...wr(e),options:[e,t]}),_r=(e,t)=>({...Rr(e),options:[e,t]});var Ir="Arrow",on=p.forwardRef((e,t)=>{const{children:n,width:o=10,height:r=5,...s}=e;return d.jsx(V.svg,{...s,ref:t,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});on.displayName=Ir;var Nr=on;function jr(e,t=[]){let n=[];function o(s,i){const c=p.createContext(i),a=n.length;n=[...n,i];function l(u){const{scope:h,children:x,...m}=u,v=h?.[e][a]||c,g=p.useMemo(()=>m,Object.values(m));return d.jsx(v.Provider,{value:g,children:x})}function f(u,h){const x=h?.[e][a]||c,m=p.useContext(x);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,f]}const r=()=>{const s=n.map(i=>p.createContext(i));return function(c){const a=c?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return r.scopeName=e,[o,kr(r,...t)]}function kr(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=o.reduce((c,{useScope:a,scopeName:l})=>{const u=a(s)[`__scope${l}`];return{...c,...u}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Or(e){const[t,n]=p.useState(void 0);return et(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let i,c;if("borderBoxSize"in s){const a=s.borderBoxSize,l=Array.isArray(a)?a[0]:a;i=l.inlineSize,c=l.blockSize}else i=e.offsetWidth,c=e.offsetHeight;n({width:i,height:c})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var ht="Popper",[rn,sn]=jr(ht),[Fr,cn]=rn(ht),an=e=>{const{__scopePopper:t,children:n}=e,[o,r]=p.useState(null);return d.jsx(Fr,{scope:t,anchor:o,onAnchorChange:r,children:n})};an.displayName=ht;var ln="PopperAnchor",un=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...r}=e,s=cn(ln,n),i=p.useRef(null),c=ie(t,i);return p.useEffect(()=>{s.onAnchorChange(o?.current||i.current)}),o?null:d.jsx(V.div,{...r,ref:c})});un.displayName=ln;var xt="PopperContent",[Dr,Lr]=rn(xt),fn=p.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:a=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:x="optimized",onPlaced:m,...v}=e,g=cn(xt,n),[w,C]=p.useState(null),b=ie(t,L=>C(L)),[S,R]=p.useState(null),P=Or(S),_=P?.width??0,M=P?.height??0,k=o+(s!=="center"?"-"+s:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(l)?l:[l],F=O.length>0,j={padding:N,boundary:O.filter(Hr),altBoundary:F},{refs:I,floatingStyles:H,placement:E,isPositioned:D,middlewareData:T}=br({strategy:"fixed",placement:k,whileElementsMounted:(...L)=>mr(...L,{animationFrame:x==="always"}),elements:{reference:g.anchor},middleware:[Sr({mainAxis:r+M,alignmentAxis:i}),a&&Tr({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Mr():void 0,...j}),a&&Ar({...j}),Pr({...j,apply:({elements:L,rects:we,availableWidth:lo,availableHeight:uo})=>{const{width:fo,height:po}=we.reference,Ne=L.floating.style;Ne.setProperty("--radix-popper-available-width",`${lo}px`),Ne.setProperty("--radix-popper-available-height",`${uo}px`),Ne.setProperty("--radix-popper-anchor-width",`${fo}px`),Ne.setProperty("--radix-popper-anchor-height",`${po}px`)}}),S&&_r({element:S,padding:c}),Br({arrowWidth:_,arrowHeight:M}),h&&Er({strategy:"referenceHidden",...j})]}),[y,$]=mn(E),Y=Ae(m);et(()=>{D&&Y?.()},[D,Y]);const ce=T.arrow?.x,ge=T.arrow?.y,ve=T.arrow?.centerOffset!==0,[Ie,ae]=p.useState();return et(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:D?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(Dr,{scope:n,placedSide:y,onArrowChange:R,arrowX:ce,arrowY:ge,shouldHideArrow:ve,children:d.jsx(V.div,{"data-side":y,"data-align":$,...v,ref:b,style:{...v.style,animation:D?void 0:"none"}})})})});fn.displayName=xt;var dn="PopperArrow",$r={top:"bottom",right:"left",bottom:"top",left:"right"},pn=p.forwardRef(function(t,n){const{__scopePopper:o,...r}=t,s=Lr(dn,o),i=$r[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(Nr,{...r,ref:n,style:{...r.style,display:"block"}})})});pn.displayName=dn;function Hr(e){return e!==null}var Br=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:r}=t,i=r.arrow?.centerOffset!==0,c=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[l,f]=mn(n),u={start:"0%",center:"50%",end:"100%"}[f],h=(r.arrow?.x??0)+c/2,x=(r.arrow?.y??0)+a/2;let m="",v="";return l==="bottom"?(m=i?u:`${h}px`,v=`${-a}px`):l==="top"?(m=i?u:`${h}px`,v=`${o.floating.height+a}px`):l==="right"?(m=`${-a}px`,v=i?u:`${x}px`):l==="left"&&(m=`${o.floating.width+a}px`,v=i?u:`${x}px`),{data:{x:m,y:v}}}});function mn(e){const[t,n="center"]=e.split("-");return[t,n]}var Gr=an,zr=un,Wr=fn,Ur=pn;function Kr(e,t=[]){let n=[];function o(s,i){const c=p.createContext(i),a=n.length;n=[...n,i];function l(u){const{scope:h,children:x,...m}=u,v=h?.[e][a]||c,g=p.useMemo(()=>m,Object.values(m));return d.jsx(v.Provider,{value:g,children:x})}function f(u,h){const x=h?.[e][a]||c,m=p.useContext(x);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${u}\` must be used within \`${s}\``)}return l.displayName=s+"Provider",[l,f]}const r=()=>{const s=n.map(i=>p.createContext(i));return function(c){const a=c?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...c,[e]:a}}),[c,a])}};return r.scopeName=e,[o,Vr(r,...t)]}function Vr(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const i=o.reduce((c,{useScope:a,scopeName:l})=>{const u=a(s)[`__scope${l}`];return{...c,...u}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Qe="rovingFocusGroup.onEntryFocus",Yr={bubbles:!1,cancelable:!0},Ye="RovingFocusGroup",[st,hn,Xr]=Kt(Ye),[qr,xn]=Kr(Ye,[Xr]),[Zr,Jr]=qr(Ye),gn=p.forwardRef((e,t)=>d.jsx(st.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(st.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Qr,{...e,ref:t})})}));gn.displayName=Ye;var Qr=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:r=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:a,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...u}=e,h=p.useRef(null),x=ie(t,h),m=Vt(s),[v=null,g]=mo({prop:i,defaultProp:c,onChange:a}),[w,C]=p.useState(!1),b=Ae(l),S=hn(n),R=p.useRef(!1),[P,_]=p.useState(0);return p.useEffect(()=>{const M=h.current;if(M)return M.addEventListener(Qe,b),()=>M.removeEventListener(Qe,b)},[b]),d.jsx(Zr,{scope:n,orientation:o,dir:m,loop:r,currentTabStopId:v,onItemFocus:p.useCallback(M=>g(M),[g]),onItemShiftTab:p.useCallback(()=>C(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>_(M=>M-1),[]),children:d.jsx(V.div,{tabIndex:w||P===0?-1:0,"data-orientation":o,...u,ref:x,style:{outline:"none",...e.style},onMouseDown:A(e.onMouseDown,()=>{R.current=!0}),onFocus:A(e.onFocus,M=>{const k=!R.current;if(M.target===M.currentTarget&&k&&!w){const N=new CustomEvent(Qe,Yr);if(M.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=S().filter(E=>E.focusable),F=O.find(E=>E.active),j=O.find(E=>E.id===v),H=[F,j,...O].filter(Boolean).map(E=>E.ref.current);Cn(H,f)}}R.current=!1}),onBlur:A(e.onBlur,()=>C(!1))})})}),vn="RovingFocusGroupItem",wn=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:r=!1,tabStopId:s,...i}=e,c=ho(),a=s||c,l=Jr(vn,n),f=l.currentTabStopId===a,u=hn(n),{onFocusableItemAdd:h,onFocusableItemRemove:x}=l;return p.useEffect(()=>{if(o)return h(),()=>x()},[o,h,x]),d.jsx(st.ItemSlot,{scope:n,id:a,focusable:o,active:r,children:d.jsx(V.span,{tabIndex:f?0:-1,"data-orientation":l.orientation,...i,ref:t,onMouseDown:A(e.onMouseDown,m=>{o?l.onItemFocus(a):m.preventDefault()}),onFocus:A(e.onFocus,()=>l.onItemFocus(a)),onKeyDown:A(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=ns(m,l.orientation,l.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let w=u().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const C=w.indexOf(m.currentTarget);w=l.loop?os(w,C+1):w.slice(C+1)}setTimeout(()=>Cn(w))}})})})});wn.displayName=vn;var es={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ts(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ns(e,t,n){const o=ts(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return es[o]}function Cn(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function os(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var rs=gn,ss=wn,it=["Enter"," "],is=["ArrowDown","PageUp","Home"],yn=["ArrowUp","PageDown","End"],cs=[...is,...yn],as={ltr:[...it,"ArrowRight"],rtl:[...it,"ArrowLeft"]},ls={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ee="Menu",[Te,us,fs]=Kt(Ee),[ue,bn]=Wt(Ee,[fs,sn,xn]),Xe=sn(),Rn=xn(),[ds,fe]=ue(Ee),[ps,_e]=ue(Ee),Sn=e=>{const{__scopeMenu:t,open:n=!1,children:o,dir:r,onOpenChange:s,modal:i=!0}=e,c=Xe(t),[a,l]=p.useState(null),f=p.useRef(!1),u=Ae(s),h=Vt(r);return p.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),d.jsx(Gr,{...c,children:d.jsx(ds,{scope:t,open:n,onOpenChange:u,content:a,onContentChange:l,children:d.jsx(ps,{scope:t,onClose:p.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:h,modal:i,children:o})})})};Sn.displayName=Ee;var ms="MenuAnchor",gt=p.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=Xe(n);return d.jsx(zr,{...r,...o,ref:t})});gt.displayName=ms;var vt="MenuPortal",[hs,Tn]=ue(vt,{forceMount:void 0}),Mn=e=>{const{__scopeMenu:t,forceMount:n,children:o,container:r}=e,s=fe(vt,t);return d.jsx(hs,{scope:t,forceMount:n,children:d.jsx(We,{present:n||s.open,children:d.jsx(So,{asChild:!0,container:r,children:o})})})};Mn.displayName=vt;var W="MenuContent",[xs,wt]=ue(W),An=p.forwardRef((e,t)=>{const n=Tn(W,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=fe(W,e.__scopeMenu),i=_e(W,e.__scopeMenu);return d.jsx(Te.Provider,{scope:e.__scopeMenu,children:d.jsx(We,{present:o||s.open,children:d.jsx(Te.Slot,{scope:e.__scopeMenu,children:i.modal?d.jsx(gs,{...r,ref:t}):d.jsx(vs,{...r,ref:t})})})})}),gs=p.forwardRef((e,t)=>{const n=fe(W,e.__scopeMenu),o=p.useRef(null),r=ie(t,o);return p.useEffect(()=>{const s=o.current;if(s)return xo(s)},[]),d.jsx(Ct,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:A(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vs=p.forwardRef((e,t)=>{const n=fe(W,e.__scopeMenu);return d.jsx(Ct,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ct=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:a,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:h,onDismiss:x,disableOutsideScroll:m,...v}=e,g=fe(W,n),w=_e(W,n),C=Xe(n),b=Rn(n),S=us(n),[R,P]=p.useState(null),_=p.useRef(null),M=ie(t,_,g.onContentChange),k=p.useRef(0),N=p.useRef(""),O=p.useRef(0),F=p.useRef(null),j=p.useRef("right"),I=p.useRef(0),H=m?yo:p.Fragment,E=m?{as:bo,allowPinchZoom:!0}:void 0,D=y=>{const $=N.current+y,Y=S().filter(L=>!L.disabled),ce=document.activeElement,ge=Y.find(L=>L.ref.current===ce)?.textValue,ve=Y.map(L=>L.textValue),Ie=_s(ve,$,ge),ae=Y.find(L=>L.textValue===Ie)?.ref.current;(function L(we){N.current=we,window.clearTimeout(k.current),we!==""&&(k.current=window.setTimeout(()=>L(""),1e3))})($),ae&&setTimeout(()=>ae.focus())};p.useEffect(()=>()=>window.clearTimeout(k.current),[]),go();const T=p.useCallback(y=>j.current===F.current?.side&&Ns(y,F.current?.area),[]);return d.jsx(xs,{scope:n,searchRef:N,onItemEnter:p.useCallback(y=>{T(y)&&y.preventDefault()},[T]),onItemLeave:p.useCallback(y=>{T(y)||(_.current?.focus(),P(null))},[T]),onTriggerLeave:p.useCallback(y=>{T(y)&&y.preventDefault()},[T]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(y=>{F.current=y},[]),children:d.jsx(H,{...E,children:d.jsx(vo,{asChild:!0,trapped:r,onMountAutoFocus:A(s,y=>{y.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:d.jsx(wo,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:h,onDismiss:x,children:d.jsx(rs,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:o,currentTabStopId:R,onCurrentTabStopIdChange:P,onEntryFocus:A(a,y=>{w.isUsingKeyboardRef.current||y.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Wr,{role:"menu","aria-orientation":"vertical","data-state":zn(g.open),"data-radix-menu-content":"",dir:w.dir,...C,...v,ref:M,style:{outline:"none",...v.style},onKeyDown:A(v.onKeyDown,y=>{const Y=y.target.closest("[data-radix-menu-content]")===y.currentTarget,ce=y.ctrlKey||y.altKey||y.metaKey,ge=y.key.length===1;Y&&(y.key==="Tab"&&y.preventDefault(),!ce&&ge&&D(y.key));const ve=_.current;if(y.target!==ve||!cs.includes(y.key))return;y.preventDefault();const ae=S().filter(L=>!L.disabled).map(L=>L.ref.current);yn.includes(y.key)&&ae.reverse(),Ps(ae)}),onBlur:A(e.onBlur,y=>{y.currentTarget.contains(y.target)||(window.clearTimeout(k.current),N.current="")}),onPointerMove:A(e.onPointerMove,Me(y=>{const $=y.target,Y=I.current!==y.clientX;if(y.currentTarget.contains($)&&Y){const ce=y.clientX>I.current?"right":"left";j.current=ce,I.current=y.clientX}}))})})})})})})});An.displayName=W;var ws="MenuGroup",yt=p.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(V.div,{role:"group",...o,ref:t})});yt.displayName=ws;var Cs="MenuLabel",Pn=p.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(V.div,{...o,ref:t})});Pn.displayName=Cs;var Ge="MenuItem",kt="menu.itemSelect",qe=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:o,...r}=e,s=p.useRef(null),i=_e(Ge,e.__scopeMenu),c=wt(Ge,e.__scopeMenu),a=ie(t,s),l=p.useRef(!1),f=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(kt,{bubbles:!0,cancelable:!0});u.addEventListener(kt,x=>o?.(x),{once:!0}),Ro(u,h),h.defaultPrevented?l.current=!1:i.onClose()}};return d.jsx(En,{...r,ref:a,disabled:n,onClick:A(e.onClick,f),onPointerDown:u=>{e.onPointerDown?.(u),l.current=!0},onPointerUp:A(e.onPointerUp,u=>{l.current||u.currentTarget?.click()}),onKeyDown:A(e.onKeyDown,u=>{const h=c.searchRef.current!=="";n||h&&u.key===" "||it.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});qe.displayName=Ge;var En=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:o=!1,textValue:r,...s}=e,i=wt(Ge,n),c=Rn(n),a=p.useRef(null),l=ie(t,a),[f,u]=p.useState(!1),[h,x]=p.useState("");return p.useEffect(()=>{const m=a.current;m&&x((m.textContent??"").trim())},[s.children]),d.jsx(Te.ItemSlot,{scope:n,disabled:o,textValue:r??h,children:d.jsx(ss,{asChild:!0,...c,focusable:!o,children:d.jsx(V.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...s,ref:l,onPointerMove:A(e.onPointerMove,Me(m=>{o?i.onItemLeave(m):(i.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:A(e.onPointerLeave,Me(m=>i.onItemLeave(m))),onFocus:A(e.onFocus,()=>u(!0)),onBlur:A(e.onBlur,()=>u(!1))})})})}),ys="MenuCheckboxItem",_n=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:o,...r}=e;return d.jsx(On,{scope:e.__scopeMenu,checked:n,children:d.jsx(qe,{role:"menuitemcheckbox","aria-checked":ze(n)?"mixed":n,...r,ref:t,"data-state":Rt(n),onSelect:A(r.onSelect,()=>o?.(ze(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_n.displayName=ys;var In="MenuRadioGroup",[bs,Rs]=ue(In,{value:void 0,onValueChange:()=>{}}),Nn=p.forwardRef((e,t)=>{const{value:n,onValueChange:o,...r}=e,s=Ae(o);return d.jsx(bs,{scope:e.__scopeMenu,value:n,onValueChange:s,children:d.jsx(yt,{...r,ref:t})})});Nn.displayName=In;var jn="MenuRadioItem",kn=p.forwardRef((e,t)=>{const{value:n,...o}=e,r=Rs(jn,e.__scopeMenu),s=n===r.value;return d.jsx(On,{scope:e.__scopeMenu,checked:s,children:d.jsx(qe,{role:"menuitemradio","aria-checked":s,...o,ref:t,"data-state":Rt(s),onSelect:A(o.onSelect,()=>r.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});kn.displayName=jn;var bt="MenuItemIndicator",[On,Ss]=ue(bt,{checked:!1}),Fn=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:o,...r}=e,s=Ss(bt,n);return d.jsx(We,{present:o||ze(s.checked)||s.checked===!0,children:d.jsx(V.span,{...r,ref:t,"data-state":Rt(s.checked)})})});Fn.displayName=bt;var Ts="MenuSeparator",Dn=p.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e;return d.jsx(V.div,{role:"separator","aria-orientation":"horizontal",...o,ref:t})});Dn.displayName=Ts;var Ms="MenuArrow",Ln=p.forwardRef((e,t)=>{const{__scopeMenu:n,...o}=e,r=Xe(n);return d.jsx(Ur,{...r,...o,ref:t})});Ln.displayName=Ms;var As="MenuSub",[Ec,$n]=ue(As),Ce="MenuSubTrigger",Hn=p.forwardRef((e,t)=>{const n=fe(Ce,e.__scopeMenu),o=_e(Ce,e.__scopeMenu),r=$n(Ce,e.__scopeMenu),s=wt(Ce,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:a}=s,l={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),a(null)}},[c,a]),d.jsx(gt,{asChild:!0,...l,children:d.jsx(En,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":zn(n.open),...e,ref:Co(t,r.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:A(e.onPointerMove,Me(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:A(e.onPointerLeave,Me(u=>{f();const h=n.content?.getBoundingClientRect();if(h){const x=n.content?.dataset.side,m=x==="right",v=m?-5:5,g=h[m?"left":"right"],w=h[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+v,y:u.clientY},{x:g,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:A(e.onKeyDown,u=>{const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||as[o.dir].includes(u.key)&&(n.onOpenChange(!0),n.content?.focus(),u.preventDefault())})})})});Hn.displayName=Ce;var Bn="MenuSubContent",Gn=p.forwardRef((e,t)=>{const n=Tn(W,e.__scopeMenu),{forceMount:o=n.forceMount,...r}=e,s=fe(W,e.__scopeMenu),i=_e(W,e.__scopeMenu),c=$n(Bn,e.__scopeMenu),a=p.useRef(null),l=ie(t,a);return d.jsx(Te.Provider,{scope:e.__scopeMenu,children:d.jsx(We,{present:o||s.open,children:d.jsx(Te.Slot,{scope:e.__scopeMenu,children:d.jsx(Ct,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:l,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{i.isUsingKeyboardRef.current&&a.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:A(e.onFocusOutside,f=>{f.target!==c.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:A(e.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:A(e.onKeyDown,f=>{const u=f.currentTarget.contains(f.target),h=ls[i.dir].includes(f.key);u&&h&&(s.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});Gn.displayName=Bn;function zn(e){return e?"open":"closed"}function ze(e){return e==="indeterminate"}function Rt(e){return ze(e)?"indeterminate":e?"checked":"unchecked"}function Ps(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Es(e,t){return e.map((n,o)=>e[(t+o)%e.length])}function _s(e,t,n){const r=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=Es(e,Math.max(s,0));r.length===1&&(i=i.filter(l=>l!==n));const a=i.find(l=>l.toLowerCase().startsWith(r.toLowerCase()));return a!==n?a:void 0}function Is(e,t){const{x:n,y:o}=e;let r=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const c=t[s].x,a=t[s].y,l=t[i].x,f=t[i].y;a>o!=f>o&&n<(l-c)*(o-a)/(f-a)+c&&(r=!r)}return r}function Ns(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Is(n,t)}function Me(e){return t=>t.pointerType==="mouse"?e(t):void 0}var js=Sn,ks=gt,Os=Mn,Fs=An,Ds=yt,Ls=Pn,$s=qe,Hs=_n,Bs=Nn,Gs=kn,zs=Fn,Ws=Dn,Us=Ln,Ks=Hn,Vs=Gn,St="ContextMenu",[Ys,_c]=Wt(St,[bn]),B=bn(),[Xs,Wn]=Ys(St),Un=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:o,dir:r,modal:s=!0}=e,[i,c]=p.useState(!1),a=B(t),l=Ae(o),f=p.useCallback(u=>{c(u),l(u)},[l]);return d.jsx(Xs,{scope:t,open:i,onOpenChange:f,modal:s,children:d.jsx(js,{...a,dir:r,open:i,onOpenChange:f,modal:s,children:n})})};Un.displayName=St;var Kn="ContextMenuTrigger",Vn=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:o=!1,...r}=e,s=Wn(Kn,n),i=B(n),c=p.useRef({x:0,y:0}),a=p.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),l=p.useRef(0),f=p.useCallback(()=>window.clearTimeout(l.current),[]),u=h=>{c.current={x:h.clientX,y:h.clientY},s.onOpenChange(!0)};return p.useEffect(()=>f,[f]),p.useEffect(()=>void(o&&f()),[o,f]),d.jsxs(d.Fragment,{children:[d.jsx(ks,{...i,virtualRef:a}),d.jsx(V.span,{"data-state":s.open?"open":"closed","data-disabled":o?"":void 0,...r,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:A(e.onContextMenu,h=>{f(),u(h),h.preventDefault()}),onPointerDown:o?e.onPointerDown:A(e.onPointerDown,Oe(h=>{f(),l.current=window.setTimeout(()=>u(h),700)})),onPointerMove:o?e.onPointerMove:A(e.onPointerMove,Oe(f)),onPointerCancel:o?e.onPointerCancel:A(e.onPointerCancel,Oe(f)),onPointerUp:o?e.onPointerUp:A(e.onPointerUp,Oe(f))})]})});Vn.displayName=Kn;var qs="ContextMenuPortal",Yn=e=>{const{__scopeContextMenu:t,...n}=e,o=B(t);return d.jsx(Os,{...o,...n})};Yn.displayName=qs;var Xn="ContextMenuContent",qn=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=Wn(Xn,n),s=B(n),i=p.useRef(!1);return d.jsx(Fs,{...s,...o,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),!c.defaultPrevented&&i.current&&c.preventDefault(),i.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),!c.defaultPrevented&&!r.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qn.displayName=Xn;var Zs="ContextMenuGroup",Js=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Ds,{...r,...o,ref:t})});Js.displayName=Zs;var Qs="ContextMenuLabel",ei=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Ls,{...r,...o,ref:t})});ei.displayName=Qs;var ti="ContextMenuItem",Zn=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx($s,{...r,...o,ref:t})});Zn.displayName=ti;var ni="ContextMenuCheckboxItem",oi=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Hs,{...r,...o,ref:t})});oi.displayName=ni;var ri="ContextMenuRadioGroup",si=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Bs,{...r,...o,ref:t})});si.displayName=ri;var ii="ContextMenuRadioItem",ci=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Gs,{...r,...o,ref:t})});ci.displayName=ii;var ai="ContextMenuItemIndicator",li=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(zs,{...r,...o,ref:t})});li.displayName=ai;var ui="ContextMenuSeparator",fi=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Ws,{...r,...o,ref:t})});fi.displayName=ui;var di="ContextMenuArrow",pi=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Us,{...r,...o,ref:t})});pi.displayName=di;var mi="ContextMenuSubTrigger",hi=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Ks,{...r,...o,ref:t})});hi.displayName=mi;var xi="ContextMenuSubContent",gi=p.forwardRef((e,t)=>{const{__scopeContextMenu:n,...o}=e,r=B(n);return d.jsx(Vs,{...r,...o,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gi.displayName=xi;function Oe(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var vi=Un,wi=Vn,Ci=Yn,yi=qn,bi=Zn;function Jn({onFileChange:e,allowEditPatterns:t,directory:n,i18n:o,position:r="before",children:s,triggerProps:i,...c}){const[a,l]=p.useState("idle"),f=p.useRef(null),u=To();if(!t?.length)return s;async function h(g){if(a!=="add_file"&&a!=="add_folder")return;const w=g.currentTarget.value;if(w){const C=`${n}/${w}`;if(!No.isMatch(C,t))return l("add_failed_not_allowed");try{await e?.({value:C,type:a==="add_file"?"file":"folder",method:"add"})}catch(S){const R=S?.message;if(R==="FILE_EXISTS"||R==="FOLDER_EXISTS")return l("add_failed_exists")}}l("idle")}function x(g){g.key==="Enter"&&g.currentTarget.value!==""&&h(g)}function m(g){(a==="add_file"||a==="add_folder")&&f.current&&(g.preventDefault(),f.current.focus())}const v=d.jsx(wi,{asChild:!0,children:d.jsx("div",{...i,children:s})});return d.jsxs(vi,{children:[r==="before"&&v,a!=="idle"&&d.jsxs("div",{className:"flex items-center gap-2 border-2 border-solid border-transparent",...c,children:[d.jsx("div",{className:`scale-120 shrink-0 ${a==="add_file"?"i-ph-file-duotone":"i-ph-folder-duotone"}`}),d.jsx("input",{ref:f,autoFocus:!0,type:"text",onBlur:h,onKeyUp:x,className:"text-current bg-transparent w-20 outline-var(--tk-border-accent)"})]}),r==="after"&&v,d.jsx(Ci,{children:d.jsxs(yi,{onCloseAutoFocus:m,className:"border border-tk-border-brighter b-rounded-md bg-tk-background-brighter py-2",children:[d.jsx(Ot,{icon:"i-ph-file-plus",onClick:()=>l("add_file"),children:o?.fileTreeCreateFileText||de.fileTreeCreateFileText}),d.jsx(Ot,{icon:"i-ph-folder-plus",onClick:()=>l("add_folder"),children:o?.fileTreeCreateFolderText||de.fileTreeCreateFolderText})]})}),(a==="add_failed_not_allowed"||a==="add_failed_exists")&&d.jsx(u,{title:o?.fileTreeActionNotAllowedText||de.fileTreeActionNotAllowedText,confirmText:o?.confirmationText||de.confirmationText,onClose:()=>l("idle"),children:a==="add_failed_not_allowed"?d.jsxs(d.Fragment,{children:[o?.fileTreeAllowedPatternsText||de.fileTreeAllowedPatternsText,d.jsx(Ri,{allowEditPatterns:t})]}):d.jsx(d.Fragment,{children:o?.fileTreeFileExistsAlreadyText||de.fileTreeFileExistsAlreadyText})})]})}function Ot({icon:e,children:t,...n}){return d.jsxs(bi,{...n,className:"flex items-center gap-2 px-4 py-1 text-sm cursor-pointer ws-nowrap text-tk-elements-fileTree-folder-textColor hover:bg-tk-elements-fileTree-file-backgroundColorHover",children:[d.jsx("span",{className:`${e} scale-120 shrink-0`}),d.jsx("span",{children:t})]})}function Ri({allowEditPatterns:e}){return d.jsx("ul",{className:ne("mt-2",e.length>1&&"list-disc ml-4"),children:e.map(t=>d.jsx("li",{className:"mb-1",children:d.jsx("code",{children:t})},t))})}const Si=12,Ti=[/\/node_modules\//];function Mi({files:e,onFileSelect:t,onFileChange:n,allowEditPatterns:o,selectedFile:r,hideRoot:s,scope:i,hiddenFiles:c,i18n:a,className:l}){const f=p.useMemo(()=>[...Ti,...c??[]],[c]),u=p.useMemo(()=>Ei(e,s,i,f),[e,s,i,f]),[h,x]=p.useState(()=>new Set);p.useEffect(()=>{x(new Set)},[e]);const m=p.useMemo(()=>{const g=[];let w=Number.MAX_SAFE_INTEGER;for(const C of u){const b=C.depth;w===b&&(w=Number.MAX_SAFE_INTEGER),h.has(C.id)&&(w=Math.min(w,b)),!(w<b)&&g.push(C)}return g},[u,h]);function v(g){x(w=>{const C=new Set(w);return C.has(g)?C.delete(g):C.add(g),C})}return d.jsxs("div",{className:ne(l,"h-full transition-theme bg-tk-elements-fileTree-backgroundColor"),children:[m.map(g=>{switch(g.kind){case"file":return d.jsx(Pi,{selected:r===g.fullPath,file:g,onClick:()=>t?.(g.fullPath)},g.id);case"folder":return d.jsx(Ai,{folder:g,i18n:a,collapsed:h.has(g.id),onClick:()=>v(g.id),onFileChange:n,allowEditPatterns:o},g.id)}}),d.jsx(Jn,{position:"after",i18n:a,style:Tt(0),directory:"",onFileChange:n,allowEditPatterns:o,triggerProps:{className:"h-full min-h-4","data-testid":"file-tree-root-context-menu"}})]})}function Ai({folder:{depth:e,name:t,fullPath:n},i18n:o,collapsed:r,onClick:s,onFileChange:i,allowEditPatterns:c}){return d.jsx(Jn,{onFileChange:i,allowEditPatterns:c,i18n:o,directory:n,style:Tt(1+e),children:d.jsx(Qn,{className:"group transition-theme bg-tk-elements-fileTree-folder-backgroundColor hover:bg-tk-elements-fileTree-folder-backgroundColorHover text-tk-elements-fileTree-folder-textColor hover:text-tk-elements-fileTree-folder-textColor",depth:e,iconClasses:ne("text-tk-elements-fileTree-folder-iconColor group-hover:text-tk-elements-fileTree-folder-iconColorHover",{"i-ph-folder-simple-duotone":r,"i-ph-folder-open-duotone":!r}),onClick:s,children:t})})}function Pi({file:{depth:e,name:t},onClick:n,selected:o}){const r=Ni(t),s=ji.get(r)||"i-ph-file-duotone";return d.jsx(Qn,{className:ne("group transition-theme",{"bg-tk-elements-fileTree-file-backgroundColor hover:bg-tk-elements-fileTree-file-backgroundColorHover text-tk-elements-fileTree-file-textColor hover:text-tk-elements-fileTree-file-textColorHover":!o,"bg-tk-elements-fileTree-file-backgroundColorSelected text-tk-elements-fileTree-file-textColorSelected":o}),depth:e,iconClasses:ne(s,{"text-tk-elements-fileTree-file-iconColor group-hover:text-tk-elements-fileTree-file-iconColorHover":!o,"text-tk-elements-fileTree-file-iconColorSelected":o}),onClick:n,"aria-pressed":o,children:t})}function Qn({depth:e,iconClasses:t,onClick:n,className:o,"aria-pressed":r,children:s}){return d.jsxs("button",{className:`flex items-center gap-2 w-full pr-2 border-2 border-transparent text-faded ${o??""}`,style:Tt(e),onClick:n,"aria-pressed":r===!0?"true":void 0,children:[d.jsx("div",{className:ne("scale-120 shrink-0",t)}),d.jsx("span",{children:s})]})}function Ei(e,t,n,o){const r=new Set,s=[],i=t?0:1;t||s.push({kind:"folder",name:"/",fullPath:"/",depth:0,id:0});for(const c of[...e].sort(Ii)){if(n&&!c.path.startsWith(n))continue;const a=c.path.split("/").filter(u=>u),l=a.at(-1);if(!l||_i(c.path,l,o))continue;let f="";for(let u=0;u<a.length;++u){const h=a[u],x=f+=`/${h}`;u===a.length-1?s.push({kind:c.type,id:s.length,name:h,fullPath:x,depth:u+i}):r.has(x)||(r.add(x),s.push({kind:"folder",id:s.length,name:h,fullPath:x,depth:u+i}))}}return s}function _i(e,t,n){return n.some(o=>typeof o=="string"?t===o:o.test(e))}function Tt(e){return{paddingLeft:`${12+e*Si}px`}}function Ii(e,t){const n=e.path.split("/"),o=t.path.split("/"),r=Math.min(n.length,o.length);for(let s=0;s<r;s++){const i=Ft(e,n,s),c=Ft(t,o,s);if(i.type!==c.type)return i.type==="folder"?-1:1;const a=Dt(i.path,c.path);if(a!==0||i.isLast||c.isLast)return a}return Dt(e.path,t.path)}function Ft(e,t,n){const o=n+1===t.length;return{path:t[n],type:o?e.type:"folder",isLast:o}}function Dt(e,t){return e<t?-1:e>t?1:0}function Ni(e){const t=e.split(".");return t.shift(),t.at(-1)||""}const ji=new Map([["ts","i-ph-file-ts-duotone"],["cts","i-ph-file-ts-duotone"],["mts","i-ph-file-ts-duotone"],["tsx","i-ph-file-tsx-duotone"],["js","i-ph-file-js-duotone"],["cjs","i-ph-file-js-duotone"],["mjs","i-ph-file-js-duotone"],["jsx","i-ph-file-jsx-duotone"],["html","i-ph-file-html-duotone"],["css","i-ph-file-css-duotone"],["md","i-ph-file-md-duotone"],["vue","i-ph-file-vue-duotone"],["gif","i-ph-file-image-duotone"],["jpg","i-ph-file-image-duotone"],["jpeg","i-ph-file-image-duotone"],["png","i-ph-file-image-duotone"],["svg","i-ph-file-svg-duotone"]]);function ki(){return globalThis.innerWidth<640}const Oi=25;function Fi({theme:e,id:t,files:n,i18n:o,hideRoot:r,fileTreeScope:s,showFileTree:i=!0,helpAction:c,editorDocument:a,selectedFile:l,allowEditPatterns:f,onEditorChange:u,onEditorScroll:h,onHelpClick:x,onFileSelect:m,onFileTreeChange:v}){const g=p.useRef(null);return p.useEffect(()=>{const{current:w}=g;w&&(i?w.isCollapsed()&&w.resize(Oi):i||w.collapse())},[t]),d.jsxs(Ut,{className:"bg-tk-elements-panel-backgroundColor",direction:"horizontal",children:[d.jsxs(be,{className:"flex flex-col",collapsible:!0,defaultSize:0,minSize:10,ref:g,children:[d.jsx("div",{className:"panel-header border-r border-b border-tk-elements-app-borderColor",children:d.jsxs("div",{className:"panel-title",children:[d.jsx("div",{className:"panel-icon i-ph-tree-structure-duotone shrink-0"}),d.jsx("span",{className:"text-sm",children:o.filesTitleText})]})}),d.jsx(Mi,{className:"flex flex-col flex-grow py-2 border-r border-tk-elements-app-borderColor text-sm overflow-y-auto overflow-x-hidden",i18n:o,selectedFile:l,hideRoot:r??!0,files:n,scope:s,allowEditPatterns:f,onFileSelect:m,onFileChange:v})]}),d.jsx(tt,{disabled:!i,className:Fe.PanelResizeHandle,hitAreaMargins:{fine:8,coarse:8}}),d.jsxs(be,{className:"flex flex-col",defaultSize:100,minSize:10,children:[d.jsx(Di,{i18n:o,editorDocument:a,onHelpClick:x,helpAction:c}),d.jsx("div",{className:"h-full flex-1 overflow-hidden",children:d.jsx(Mo,{className:"h-full",theme:e,id:t,doc:a,autoFocusOnDocumentChange:!ki(),onScroll:h,onChange:u})})]})]})}function Di({i18n:e,editorDocument:t,helpAction:n,onHelpClick:o}){const s=t?.filePath?.split("/").at(-1)??"",i=s?Li(s):"";return d.jsxs("div",{className:"panel-header border-b border-tk-elements-app-borderColor flex justify-between",children:[d.jsxs("div",{className:"panel-title",children:[d.jsx("div",{className:`panel-icon scale-125 ${i}`}),d.jsx("span",{className:"text-sm",children:s})]}),!!n&&d.jsxs("button",{onClick:o,disabled:!o,className:"panel-button px-2 py-0.5 -mr-1 -my-1",children:[n==="solve"&&d.jsx("div",{className:"i-ph-lightbulb-duotone text-lg"}),n==="solve"&&e.solveButtonText,n==="reset"&&d.jsx("div",{className:"i-ph-clock-counter-clockwise-duotone"}),n==="reset"&&e.resetButtonText]})]})}function Li(e){const t=e.split(".").at(-1);if(!t)return console.error("Cannot infer file type"),null;switch(t){case"ts":return"i-languages-ts?mask";case"cjs":case"mjs":case"js":return"i-languages-js?mask";case"html":return"i-languages-html?mask";case"css":return"i-languages-css?mask";case"scss":case"sass":return"i-languages-sass?mask";case"md":return"i-languages-markdown?mask";case"json":return"i-languages-json?mask";case"gif":case"jpg":case"jpeg":case"png":return"i-ph-image";default:return null}}const eo=25;function $i({tutorialStore:e,theme:t,dialog:n}){X(e.ref);const o=e.hasEditor(),r=e.hasPreviews(),s=!e.hasTerminalPanel(),i=p.useRef(null),c=p.useRef(!1);return d.jsxs(Ut,{className:Fe.PanelGroup,direction:"vertical",children:[d.jsx(Ao,{value:n,children:d.jsx(Hi,{theme:t,tutorialStore:e,hasEditor:o,hasPreviews:r,hideTerminalPanel:s})}),d.jsx(tt,{className:Fe.PanelResizeHandle,hitAreaMargins:{fine:5,coarse:5},disabled:!o}),d.jsx(Bi,{theme:t,tutorialStore:e,terminalPanelRef:i,terminalExpanded:c,hideTerminalPanel:s,hasPreviews:r,hasEditor:o}),d.jsx(tt,{className:Fe.PanelResizeHandle,hitAreaMargins:{fine:5,coarse:5},disabled:s||!r}),d.jsx(Gi,{tutorialStore:e,theme:t,terminalPanelRef:i,terminalExpanded:c,hideTerminalPanel:s,hasEditor:o,hasPreviews:r})]})}function Hi({theme:e,tutorialStore:t,hasEditor:n}){const[o,r]=p.useState("reset"),s=X(t.selectedFile),i=X(t.currentDocument),c=X(t.lessonFullyLoaded),a=X(t.editorConfig),l=X(t.ref),f=X(t.files),u=t.lesson;function h(){t.hasSolution()?r(m=>m==="reset"?(t.reset(),"solve"):(t.solve(),"reset")):t.reset()}async function x({method:m,type:v,value:g}){if(m==="add"&&v==="file")return t.addFile(g);if(m==="add"&&v==="folder")return t.addFolder(g)}return p.useEffect(()=>{t.hasSolution()?r("solve"):r("reset")},[l]),d.jsx(be,{id:n?"editor-opened":"editor-closed",defaultSize:n?50:0,minSize:10,maxSize:n?100:0,collapsible:!n,className:"transition-theme bg-tk-elements-panel-backgroundColor text-tk-elements-panel-textColor",children:d.jsx(Fi,{id:l,theme:e,showFileTree:t.hasFileTree(),editorDocument:i,files:f,i18n:u.data.i18n,hideRoot:u.data.hideRoot,helpAction:o,onHelpClick:c?h:void 0,onFileSelect:m=>t.setSelectedFile(m),onFileTreeChange:x,allowEditPatterns:a.fileTree.allowEdits||void 0,selectedFile:s,onEditorScroll:m=>t.setCurrentDocumentScrollPosition(m),onEditorChange:m=>t.setCurrentDocumentContent(m.content)})})}function Bi({tutorialStore:e,terminalPanelRef:t,terminalExpanded:n,hideTerminalPanel:o,hasPreviews:r,hasEditor:s}){const i=p.useRef(null),c=e.lesson,a=X(e.terminalConfig),l=X(e.ref);function f(){const{current:h}=t;h&&(n.current?h.expand():(n.current=!0,h.resize(eo)))}const u=p.useCallback(()=>{t.current?.isCollapsed()?f():t.current&&t.current.collapse()},[]);return p.useEffect(()=>{o&&(t.current?.collapse(),n.current=!1)},[o]),p.useEffect(()=>{a.defaultOpen&&f()},[a.defaultOpen]),p.useEffect(()=>{const h=e.lesson,x=e.lessonFullyLoaded.subscribe(m=>{m&&h.data.autoReload&&i.current?.reload()});return()=>x()},[l]),d.jsx(be,{id:r?"previews-opened":"previews-closed",defaultSize:r?50:0,minSize:10,maxSize:r?100:0,collapsible:!r,className:ne({"transition-theme border-t border-tk-elements-app-borderColor":s}),children:d.jsx(Po,{ref:i,tutorialStore:e,i18n:c.data.i18n,showToggleTerminal:!o,toggleTerminal:u})})}function Gi({tutorialStore:e,theme:t,terminalPanelRef:n,terminalExpanded:o,hideTerminalPanel:r,hasEditor:s,hasPreviews:i}){let c="terminal-closed";r?c="terminal-none":!i&&!s?c="terminal-full":i||(c="terminal-opened");let a=0;return r?a=0:!i&&!s?a=100:i||(a=eo),d.jsx(be,{id:c,defaultSize:a,minSize:r?0:10,collapsible:i,ref:n,onExpand:()=>{o.current=!0},className:ne("transition-theme bg-tk-elements-panel-backgroundColor text-tk-elements-panel-textColor",{"border-t border-tk-elements-app-borderColor":i}),children:d.jsx(Eo,{tutorialStore:e,theme:t})})}const Lt={name:"InvalidComponentArgs",title:"Invalid component arguments.",message:e=>`Invalid arguments passed to${e?` <${e}>`:""} component.`,hint:"Astro components cannot be rendered directly via function call, such as `Component()` or `{items.map(Component)}`."};function zi(e){return e.replace(/\r\n|\r(?!\n)|\n/g,`
`)}function Wi(e,t){if(!t||t.line===void 0||t.column===void 0)return"";const n=zi(e).split(`
`).map(i=>i.replace(/\t/g,"  ")),o=[];for(let i=-2;i<=2;i++)n[t.line+i]&&o.push(t.line+i);let r=0;for(const i of o){let c=`> ${i}`;c.length>r&&(r=c.length)}let s="";for(const i of o){const c=i===t.line-1;s+=c?"> ":"  ",s+=`${i+1} | ${n[i]}
`,c&&(s+=`${Array.from({length:r}).join(" ")}  | ${Array.from({length:t.column}).join(" ")}^
`)}return s}class Ui extends Error{loc;title;hint;frame;type="AstroError";constructor(t,n){const{name:o,title:r,message:s,stack:i,location:c,hint:a,frame:l}=t;super(s,n),this.title=r,this.name=o,s&&(this.message=s),this.stack=i||this.stack,this.loc=c,this.hint=a,this.frame=l}setLocation(t){this.loc=t}setName(t){this.name=t}setMessage(t){this.message=t}setHint(t){this.hint=t}setFrame(t,n){this.frame=Wi(t,n)}static is(t){return t.type==="AstroError"}}function Ki(e){return!(e.length!==3||!e[0]||typeof e[0]!="object")}function to(e,t,n){const o=t?.split("/").pop()?.replace(".astro","")??"",r=(...s)=>{if(!Ki(s))throw new Ui({...Lt,message:Lt.message(o)});return e(...s)};return Object.defineProperty(r,"name",{value:o,writable:!1}),r.isAstroComponentFactory=!0,r.moduleId=t,r.propagation=n,r}function Vi(e){return to(e.factory,e.moduleId,e.propagation)}function no(e,t,n){return typeof e=="function"?to(e,t,n):Vi(e)}typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:Yi}="",Xi=/[&<>'"]/g,qi={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},Zi=e=>qi[e],Ji=e=>Yi.call(e,Xi,Zi);function oo(e){return!!e&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}const Qi=Ji;class ct extends String{get[Symbol.toStringTag](){return"HTMLString"}}const ro=e=>e instanceof ct?e:typeof e=="string"?new ct(e):e;function ec(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}const tc=Symbol.for("astro:render");function nc(e){return Object.defineProperty(e,tc,{value:!0})}const oc=()=>{};class rc{chunks=[];renderPromise;destination;constructor(t){this.renderPromise=t(this),Promise.resolve(this.renderPromise).catch(oc)}write(t){this.destination?this.destination.write(t):this.chunks.push(t)}async renderToFinalDestination(t){for(const n of this.chunks)t.write(n);this.destination=t,await this.renderPromise}}function so(e){return new rc(e)}typeof process<"u"&&Object.prototype.toString.call(process);function sc(){return nc({type:"maybe-head"})}const io=Symbol.for("astro.renderTemplateResult");class ic{[io]=!0;htmlParts;expressions;error;constructor(t,n){this.htmlParts=t,this.error=void 0,this.expressions=n.map(o=>oo(o)?Promise.resolve(o).catch(r=>{if(!this.error)throw this.error=r,r}):o)}async render(t){const n=this.expressions.map(o=>so(r=>{if(o||o===0)return ye(r,o)}));for(let o=0;o<this.htmlParts.length;o++){const r=this.htmlParts[o],s=n[o];t.write(ro(r)),s&&await s.renderToFinalDestination(t)}}}function cc(e){return typeof e=="object"&&e!==null&&!!e[io]}function co(e,...t){return new ic(e,t)}const $t=Symbol.for("astro:slot-string");class ac extends ct{instructions;[$t];constructor(t,n){super(t),this.instructions=n,this[$t]=!0}}function Q(e,t,n){return!t&&n?Q(e,n):{async render(o){await ye(o,typeof t=="function"?t(e):t)}}}new TextEncoder;new TextDecoder;function lc(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}async function ye(e,t){if(oo(t)&&(t=await t),t instanceof ac)e.write(t);else if(ec(t))e.write(t);else if(Array.isArray(t)){const n=t.map(o=>so(r=>ye(r,o)));for(const o of n)o&&await o.renderToFinalDestination(e)}else if(typeof t=="function")await ye(e,t());else if(typeof t=="string")e.write(ro(Qi(t)));else if(!(!t&&t!==0))if(lc(t))await t.render(e);else if(cc(t))await t.render(e);else if(fc(t))await t.render(e);else if(ArrayBuffer.isView(t))e.write(t);else if(typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t))for await(const n of t)await ye(e,n);else e.write(t)}const uc=Symbol.for("astro.componentInstance");function fc(e){return typeof e=="object"&&e!==null&&!!e[uc]}var Ht;(function(e){e[e.Include=0]="Include",e[e.None=1]="None"})(Ht||(Ht={}));var Bt;(function(e){e[e.Required=0]="Required",e[e.Ignore=1]="Ignore"})(Bt||(Bt={}));var Gt;(function(e){e[e.Include=0]="Include",e[e.None=1]="None"})(Gt||(Gt={}));var zt;(function(e){e[e.Required=0]="Required",e[e.Ignore=1]="Ignore"})(zt||(zt={}));new TextEncoder;new TextDecoder;/*! https://mths.be/cssesc v3.0.0 by @mathias */var dc={},pc=dc.hasOwnProperty,mc=function(t,n){if(!t)return n;var o={};for(var r in n)o[r]=pc.call(t,r)?t[r]:n[r];return o},hc=/[ -,\.\/:-@\[-\^`\{-~]/,xc=/[ -,\.\/:-@\[\]\^`\{-~]/,gc=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,ao=function e(t,n){n=mc(n,e.options),n.quotes!="single"&&n.quotes!="double"&&(n.quotes="single");for(var o=n.quotes=="double"?'"':"'",r=n.isIdentifier,s=t.charAt(0),i="",c=0,a=t.length;c<a;){var l=t.charAt(c++),f=l.charCodeAt(),u=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&c<a){var h=t.charCodeAt(c++);(h&64512)==56320?f=((f&1023)<<10)+(h&1023)+65536:c--}u="\\"+f.toString(16).toUpperCase()+" "}else n.escapeEverything?hc.test(l)?u="\\"+l:u="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(l)?u="\\"+f.toString(16).toUpperCase()+" ":l=="\\"||!r&&(l=='"'&&o==l||l=="'"&&o==l)||r&&xc.test(l)?u="\\"+l:u=l;i+=u}return r&&(/^-[-\d]/.test(i)?i="\\-"+i.slice(1):/\d/.test(s)&&(i="\\3"+s+" "+i.slice(1))),i=i.replace(gc,function(x,m,v){return m&&m.length%2?x:(m||"")+v}),!r&&n.wrap?o+i+o:i};ao.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};ao.version="3.0.0";"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);no((e,t,n)=>co`${sc()}<nav class="bg-tk-elements-topBar-backgroundColor transition-theme border-b border-tk-elements-app-borderColor flex max-w-full items-center p-3 px-4 min-h-[56px]"> <div class="flex flex-1"> ${Q(e,n.logo)} </div> <div class="mr-2"> ${Q(e,n["download-button"])} </div> <div class="mr-2"> ${Q(e,n["open-in-stackblitz-link"])} </div> <div> ${Q(e,n["theme-switch"])} </div> <div> ${Q(e,n["login-button"])} </div> </nav>`,"/Users/ben-gtarxr/Documents/repositories/anu/docs/anu-tutorial/node_modules/@tutorialkit/astro/dist/default/components/TopBar.astro",void 0);no((e,t,n)=>co`${Q(e,n.title)} ${Q(e,n.links)} ${Q(e,n.meta)}`,"/Users/ben-gtarxr/Documents/repositories/anu/docs/anu-tutorial/node_modules/@tutorialkit/astro/dist/default/components/HeadTags.astro",void 0);function Ic({lesson:e}){const t=X(jo);return p.useEffect(()=>{je.setLesson(e)},[e]),je.lesson||je.setLesson(e,{ssr:!1}),d.jsx($i,{dialog:_o,tutorialStore:je,theme:t})}export{Ic as WorkspacePanelWrapper};
